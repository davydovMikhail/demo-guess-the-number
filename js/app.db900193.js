(function(){var t={4788:function(t,e,n){"use strict";var a=n(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.IS_CONNECTED?e("Main"):e("div",{staticClass:"mx-auto",staticStyle:{"text-align":"center","margin-top":"30px"}},[e("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"button"},on:{click:t.CONNECT_METAMASK}},[t._v("Connect Wallet")])]),e("Window"),t.LOADER?e("Loader"):t._e()],1)},i=[],o=n(3822),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nude"},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"main"},[e("div",{staticClass:"section section-white"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"space-top"}),e("div",{staticClass:"tim-container"},[e("div",{staticClass:"tim-row",attrs:{id:"edit-metric-labels"}},[e("h2",[t._v("Guess The Number!!!")]),e("legend"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[t._m(0),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control border-input",attrs:{type:"number",value:"",placeholder:"Amount"},domProps:{value:t.amount},on:{change:function(e){return t.handleValidateAmount()},input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),e("div",{staticClass:"small-btns"},[e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleDoubleAmount()}}},[t._v("double")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleMaxAmount()}}},[t._v("max")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleHalfAmount()}}},[t._v("half")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleMinAmount()}}},[t._v("min")])])]),e("div",{staticClass:"col-md-3"},[t._m(1),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.percent,expression:"percent"}],staticClass:"form-control border-input",attrs:{type:"number",value:"",placeholder:"Percent"},domProps:{value:t.percent},on:{change:function(e){return t.handleValidatePercent()},input:function(e){e.target.composing||(t.percent=e.target.value)}}})]),e("div",{staticClass:"small-btns"},[e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleDoublePercent()}}},[t._v("double")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleMaxPercent()}}},[t._v("max")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleHalfPercent()}}},[t._v("half")]),e("button",{staticClass:"btn btn-primary btn-xs small-btn",on:{click:function(e){return t.handleMinPercent()}}},[t._v("min")])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"info"},[e("div",{staticClass:"info__win"},[t._v(" "+t._s(t.getPossibleWin)+" ")]),e("div",{staticClass:"info__win__title"},[t._v("Possible win")])]),e("div",{staticClass:"choose"},[e("div",{staticClass:"choose__var"},[e("div",{staticClass:"choose__diaposon"},[t._v("0-"+t._s(t.getRange))]),e("button",{staticClass:"btn btn-warning btn-lg choose__btn",on:{click:function(e){return t.handlePlay(!1)}}},[t._v("LESS")])]),e("div",{staticClass:"choose__var"},[e("div",{staticClass:"choose__diaposon"},[t._v(t._s(999999-t.getRange)+"-999999")]),e("button",{staticClass:"btn btn-warning btn-lg choose__btn",on:{click:function(e){return t.handlePlay(!0)}}},[t._v("MORE")])])])])])])])])]),e("div",{staticClass:"row"},[t._m(2),t._m(3),t._l(t.dataRandom,(function(n,a){return e("div",{key:a},[e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(n.block))])])]),e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(n.number))])])])])}))],2)])])])])])},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group"},[e("label",[t._v("Bid amount")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group"},[e("label",[t._v("Chance of win")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-12"},[e("h2",[t._v("Random numbers")])])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Block number")])])]),e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Random number")])])])])}],u=(n(7658),n(541),n(1097));const c="0x647f2db26EFd48103642B1A07EF2f59A27f43173",p="0x64159f24Af4965803d86f33A3762ED862bd01E27",d=[{inputs:[{internalType:"uint256",name:"_minBidAmount",type:"uint256"},{internalType:"address",name:"_token",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"bytes32",name:"gameHash",type:"bytes32"}],name:"HashRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"bytes32",name:"gameHash",type:"bytes32"},{indexed:!1,internalType:"uint32",name:"randomNumber",type:"uint32"}],name:"HashUsed",type:"event"},{inputs:[],name:"GameToken",outputs:[{internalType:"contract IERC20Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allGames",outputs:[{internalType:"uint8",name:"percent",type:"uint8"},{internalType:"bool",name:"isGreater",type:"bool"},{internalType:"address",name:"player",type:"address"},{internalType:"uint256",name:"possibleWin",type:"uint256"},{internalType:"uint256",name:"targetBlockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockNumber",outputs:[{internalType:"uint256",name:"number",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_targetBlockNumber",type:"uint256"},{internalType:"address",name:"_player",type:"address"}],name:"getRandomNumber",outputs:[{internalType:"uint32",name:"targetRandomNumber",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPercent",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"minBidAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPercent",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"play",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"precision",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAmount",type:"uint256"},{internalType:"uint8",name:"_percent",type:"uint8"},{internalType:"bool",name:"_isGreater",type:"bool"}],name:"requestGameHash",outputs:[],stateMutability:"nonpayable",type:"function"}],m=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint256",name:"_initialSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var y=n(6477);u.Z.config({EXPONENTIAL_AT:60});var h={name:"MainComponent",data(){return{player:"",lastActualBlock:"",dataRandom:[],pingTimer:"",percent:5,balance:"",allowance:"",amount:1}},async created(){this.balance=await this.getUserBalance(),this.player=await(0,y.getFirstAddress)(),this.allowance=await this.getAllownce(),this.lastActualBlock=await this.getCurrentBlock();const t=await this.getRandomNumber(this.lastActualBlock-1,this.player);this.dataRandom.push({block:this.lastActualBlock-1,number:t}),this.pingTimer=setInterval((async()=>{const t=await this.getCurrentBlock();if(t>this.lastActualBlock){this.lastActualBlock=t;const e=await this.getRandomNumber(t-1,this.player);this.dataRandom.unshift({block:this.lastActualBlock-1,number:e}),this.dataRandom.length>10&&this.dataRandom.pop()}}),1e3)},methods:{...(0,o.OI)(["SET_NOTIFICATION","SET_SHOW_OK","SET_LOADER_STATUS"]),...(0,o.nv)([]),handleDoublePercent(){const t=2*this.percent;this.percent=t>95?95:Math.trunc(t)},async handlePlay(t){if(this.SET_LOADER_STATUS(!0),this.allowance<this.amount){this.SET_NOTIFICATION("Approve your game tokens to the address of the game contract");const t=new u.Z("1000000000").shiftedBy(18).toString(),e=await(0,y.sendDataToContract)(m,c,"approve",[p,t]);this.SET_NOTIFICATION("Wait..."),await e.wait()}this.SET_NOTIFICATION("Requesting the hash of your game...");const e=new u.Z(this.amount.toString()).shiftedBy(18).toString(),n=await(0,y.sendDataToContract)(d,p,"requestGameHash",[e,this.percent.toString(),t]),a=await this.getLastHash();let s;s=setInterval((async()=>{const t=await this.getLastHash();if(a!==t){clearInterval(s),this.SET_NOTIFICATION("Confirm the call to the play function");const t=await this.getUserBalance();await(0,y.sendDataToContract)(d,p,"play",[]),this.SET_NOTIFICATION("Wait...");const e=await(0,y.getFirstAddress)(),{blockNumber:a}=await n.wait(),i=await this.getRandomNumber(a,e);let o;o=setInterval((async()=>{const e=await this.getLastHash();if("0x0000000000000000000000000000000000000000000000000000000000000000"===e){clearInterval(o);const e=await this.getUserBalance();e>t?this.SET_NOTIFICATION(`You've won! The block number - ${a}. Random number - ${i}`):this.SET_NOTIFICATION(`Your bet is not played! The block number - ${a}. Random number - ${i}`),this.SET_SHOW_OK(!0),this.balance=await this.getUserBalance(),this.allowance=await this.getAllownce()}}),500)}}),500)},handleMaxPercent(){this.percent=95},handleHalfPercent(){const t=this.percent/2;this.percent=t<5?5:Math.trunc(t)},handleMinPercent(){this.percent=5},handleDoubleAmount(){const t=2*this.amount;t>this.balance?this.amount=this.balance:this.amount=t},handleMaxAmount(){this.amount=this.balance},handleHalfAmount(){const t=this.amount/2;this.amount=t<1?1:t},handleMinAmount(){this.amount=1},handleValidateAmount(){this.amount<1?this.amount=1:this.amount>this.balance&&(this.amount=this.balance)},handleValidatePercent(){this.percent>95?this.percent=95:this.percent<5?this.percent=5:this.percent?this.percent=Math.trunc(this.percent):this.percent=50},async getLastHash(){const t=await(0,y.getFirstAddress)(),e=await(0,y.fetchContractData)(d,p,"lastHashes",[t]);return e},async getCurrentBlock(){const t=await(0,y.fetchContractData)(d,p,"getCurrentBlockNumber",[]);return t},async getRandomNumber(t,e){const n=await(0,y.fetchContractData)(d,p,"getRandomNumber",[t,e]);return n},async getUserBalance(){const t=await(0,y.getFirstAddress)(),e=await(0,y.fetchContractData)(m,c,"balanceOf",[t]),n=new u.Z(e).shiftedBy(-18).toString();return n},async getAllownce(){const t=await(0,y.getFirstAddress)(),e=await(0,y.fetchContractData)(m,c,"allowance",[t,p]),n=new u.Z(e).shiftedBy(-18).toString();return n}},computed:{getRange(){return this.percent<5||this.percent>95?NaN:1e4*this.percent-1},getPossibleWin(){return this.percent<5||this.percent>95||this.amount<1?NaN:100*this.amount/this.percent},...(0,o.Se)([])}},b=h,T=n(1001),f=(0,T.Z)(b,r,l,!1,null,"34035855",null),_=f.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"preloader"},[e("div",{staticClass:"preloader__loader"}),e("h4",{staticClass:"preloader__msg"},[t._v(t._s(t.NOTIFICATION))]),t.SHOW_OK?e("button",{staticClass:"btn btn-warning btn-lg preloader__btn",on:{click:function(e){return t.handleOK()}}},[t._v("OK")]):t._e()])},C=[],g={name:"TwistLoader",methods:{...(0,o.OI)(["SET_SHOW_OK","SET_NOTIFICATION","SET_LOADER_STATUS"]),handleOK(){this.SET_NOTIFICATION(""),this.SET_LOADER_STATUS(!1),this.SET_SHOW_OK(!1)}},computed:{...(0,o.Se)(["NOTIFICATION","SHOW_OK"])}},w=g,S=(0,T.Z)(w,v,C,!1,null,"7c2937ee",null),A=S.exports,O=function(){var t=this,e=t._self._c;return t.MESSAGE?e("div",{staticClass:"premodal"},[e("div",{staticClass:"modal-dialog dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header-1"},[e("h5",{staticClass:"modal-title"},[t._v("Message")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Закрыть"},on:{click:function(e){return t.SET_MESSAGE("")}}},[e("i",{staticClass:"ti-close"})])]),e("div",{staticClass:"modal-body"},[e("p",[t._v(t._s(t.MESSAGE))])])])])]):t._e()},E=[],N={name:"InfoTxn",computed:{...(0,o.Se)(["MESSAGE"])},methods:{...(0,o.OI)(["SET_MESSAGE"])}},I=N,M=(0,T.Z)(I,O,E,!1,null,"46756ef4",null),x=M.exports,k={name:"App",components:{Main:_,Loader:A,Window:x},computed:{...(0,o.Se)(["IS_CONNECTED","LOADER"])},methods:{...(0,o.nv)(["CONNECT_METAMASK"])}},P=k,R=(0,T.Z)(P,s,i,!1,null,null,null),D=R.exports;a.ZP.use(o.ZP);var B=new o.ZP.Store({state:{loader:!1,isConnected:!1,message:"",memberProposals:[],oracleProposals:[],notification:"",showOK:!1},getters:{IS_CONNECTED:t=>t.isConnected,MESSAGE:t=>t.message,LOADER:t=>t.loader,NOTIFICATION:t=>t.notification,SHOW_OK:t=>t.showOK},mutations:{SET_CONNECT_STATUS:(t,e)=>t.isConnected=e,SET_LOADER_STATUS:(t,e)=>t.loader=e,SET_MESSAGE:(t,e)=>t.message=e,SET_NOTIFICATION:(t,e)=>t.notification=e,SET_SHOW_OK:(t,e)=>t.showOK=e},actions:{SET_LOADER_STATUS({commit:t},e){t("SET_LOADER_STATUS",e)},async CONNECT_METAMASK({commit:t}){t("SET_LOADER_STATUS",!0);const e=await(0,y.connect)();e&&t("SET_CONNECT_STATUS",!0),t("SET_LOADER_STATUS",!1)},async SEND_DATA({commit:t},e){const n=await(0,y.checkAddress)();n?await(0,y.sendDataToContract)(e.abi,e.addressContract,e.method,e.params):t("SET_CONNECT_STATUS",!1)}},modules:{}}),H=n(461),F=n.n(H);a.ZP.config.productionTip=!1,a.ZP.use(F()),new a.ZP({store:B,render:t=>t(D)}).$mount("#app")},6477:function(t,e,n){const{ethers:a}=n(2714),s=n(7629),i=n(1832);s.config({EXPONENTIAL_AT:60});const o="https://rpc-mumbai.maticvigil.com",r={method:"wallet_switchEthereumChain",params:[{chainId:"0x13881"}]};let l,u;async function c(){if("undefined"===typeof window.ethereum)return console.log("Please install MetaMask"),!1;try{const{ethereum:t}=window;await t.request({method:"eth_requestAccounts"}),l=new a.providers.Web3Provider(window.ethereum);const{chainId:e}=await l.getNetwork();return 80001!==e&&await t.request(r),!0}catch(t){return console.log(t),!1}}const p=()=>{try{const t=new i.providers.HttpProvider(o);return u=new i(t),!0}catch(t){return!1}};async function d(){const{ethereum:t}=window,e=await t.request({method:"eth_accounts"});return e.length}async function m(){const{ethereum:t}=window,e=await t.request({method:"eth_accounts"});return e[0]}const y=async(t,e,n,a)=>{u||p();try{const s=new u.eth.Contract(t,e);return await s.methods[n].apply(this,a).call()}catch(s){return console.log(s),""}},h=async(t,e,n,s)=>{const i=l.getSigner(),o=new a.Contract(e,t,i);try{const t=await o[n].apply(this,s);return t}catch(r){return console.log(r),r}};t.exports={connect:c,connectNode:p,checkAddress:d,fetchContractData:y,sendDataToContract:h,getFirstAddress:m}},6601:function(){}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,s,i){if(!a){var o=1/0;for(c=0;c<t.length;c++){a=t[c][0],s=t[c][1],i=t[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(r=!1,i<o&&(o=i));if(r){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[a,s,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,i,o=a[0],r=a[1],l=a[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var c=l(n)}for(e&&e(a);u<o.length;u++)i=o[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(c)},a=self["webpackChunkguess_the_number"]=self["webpackChunkguess_the_number"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4788)}));a=n.O(a)})();
//# sourceMappingURL=app.db900193.js.map